(this["webpackJsonpinventory-management-system"]=this["webpackJsonpinventory-management-system"]||[]).push([[0],{210:function(e,t,c){},339:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(18),s=c.n(r),i=(c(210),c(387)),o=c(376),l=c(366),j=c(369),d=c(185),u=c(383),b=c(12),h=c(19),O=c(20),p=c(3),x={reports:[],stocks:[],transactions:[]},m="edit_product",f="get_report",y="add_product",v="get_transactions",g="add_transaction",P="UPDATE_STOCKS",k=function(e,t){switch(t.type){case m:return e;case y:return Object(O.a)(Object(O.a)({},e),{},{stocks:[].concat(Object(h.a)(e.stocks),[t.payload])});case P:var c=t.payload,a=c.type,n=c.quantity,r=c.product,s=e.stocks.findIndex((function(e){return e.id===r})),i=Object(h.a)(e.stocks);return"sales"===a&&(i[s]=Object(O.a)(Object(O.a)({},i[s]),{},{availStock:i[s].availStock-1*n})),"purchases"===a&&(i[s]=Object(O.a)(Object(O.a)({},i[s]),{},{availStock:i[s].availStock+1*n})),Object(O.a)(Object(O.a)({},e),{},{stocks:i});case g:var o=t.payload,l=o.product,j=o.type,d=o.date,u=o.quantity,b=0,p=e.stocks.filter((function(e){return e.id===l}))[0],x=p.productName,k=p.purchasePrice,q=p.salesPrice;p.availStock;return"sales"===j&&(console.log({salesPrice:q,quantity:u}),b=1*q*1*u),"purchases"===j&&(console.log({purchasePrice:k,quantity:u}),b=1*k*1*u),Object(O.a)(Object(O.a)({},e),{},{transactions:[].concat(Object(h.a)(e.transactions),[{productName:x,type:j,purchasePrice:k,quantity:u,salesPrice:q,amount:b,date:d}])});case f:var C=function(e){return e.reduce((function(e,t){return e+t.availStock}),0)}(e.stocks),S=function(e){return e.map((function(e){return e.availStock*e.salesPrice})).reduce((function(e,t){return e+t}),0)}(e.stocks),T=e.transactions.filter((function(e){return"sales"===e.type})).map((function(e){return e.salesPrice*e.quantity})).reduce((function(e,t){return e+t}),0),N=function(e){return e.filter((function(e){return"purchases"===e.type})).map((function(e){return e.purchasePrice*e.quantity})).reduce((function(e,t){return e+t}),0)}(e.transactions),w=[].concat([{value:N,key:"Purchase"},{value:T,key:"Sale"},{value:T-N,key:"Profit"},{value:C,key:"Intentory Qnty"},{value:S,key:"Intentory Amount"}]);return Object(O.a)(Object(O.a)({},e),{},{reports:w});case v:if(console.log(t.payload),"sales"===t.payload){var B=e.transactions.filter((function(e){return"sales"===e.type&&e}));return Object(O.a)(Object(O.a)({},e),{},{transactions:B})}if("purchases"===t.payload){var E=e.transactions.filter((function(e){return"purchases"===e.type&&e}));return Object(O.a)(Object(O.a)({},e),{},{transactions:E})}return e;default:return e}},q=Object(a.createContext)(x),C=function(e){var t=e.children,c=Object(a.useReducer)(k,x),n=Object(b.a)(c,2),r=n[0],s=n[1];return Object(p.jsx)(q.Provider,{value:{transactions:r.transactions,getTransactions:function(e){s({type:v,payload:e})},addTransaction:function(e){console.log("add transaction"),s({type:g,payload:e}),s({type:P,payload:e}),s({type:f})},filterTransactions:function(e){s({type:v,payload:e})},stocks:r.stocks,reports:r.reports,editProduct:function(e){s({type:m,id:e})},getReports:function(){console.log("get reports"),s({type:f})},addProduct:function(e){console.log("add products"),s({type:y,payload:Object(O.a)(Object(O.a)({id:Math.floor(100*Math.random())},e),{},{availStock:0})}),s({type:f})}},children:t})},S=c(389),T=c(370),N=c(371),w=c(372),B=c(373),E=c(374),D=c(375),F=function(){var e=Object(a.useContext)(q),t=e.stocks,c=e.editProduct;e.addProduct;return Object(p.jsx)(l.a,{children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(S.a,{display:"flex",justifyContent:"space-between",children:Object(p.jsx)("h3",{children:"Stocks"})}),Object(p.jsx)(T.a,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(w.a,{children:Object(p.jsxs)(B.a,{children:[Object(p.jsx)(E.a,{children:"productName"}),Object(p.jsx)(E.a,{children:"Available stocks"}),Object(p.jsx)(E.a,{})]})}),Object(p.jsx)(D.a,{children:t&&t.map((function(e){return Object(p.jsxs)(B.a,{children:[Object(p.jsx)(E.a,{component:"TableCell",scope:"row",children:e.productName}),Object(p.jsx)(E.a,{children:e.availStock}),Object(p.jsxs)(E.a,{children:[Object(p.jsx)("button",{onClick:function(){return c(e.id)},children:"E"}),Object(p.jsx)("button",{onClick:function(){return console.log("delete product")},children:"D"})]})]},e.id)}))})]})})]})})},R=function(){var e=Object(a.useContext)(q),t=e.reports,c=e.getReports;return Object(a.useEffect)((function(){var e=c();console.log({reportsData:e})}),[]),console.log("reports"),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Reports"}),Object(p.jsx)(o.a,{container:!0,spacing:3,children:t&&t.map((function(e){return Object(p.jsx)(o.a,{item:!0,xs:12,sm:4,md:!0,children:Object(p.jsx)(l.a,{children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(d.a,{gutterBottom:!0,variant:"h6",component:"h2",children:e.key}),Object(p.jsx)(d.a,{variant:"body2",color:"textSecondary",component:"p",children:e.value})]})})},e.key)}))})]})},I=c(380),W=c(342),M=c(394),_=c(385),V=c(391),A=c(108),z=c.n(A),J=c(158),K=c(396),L=c(381),Q=c(390),U=c(399),G=c(25),H=c(388),X=c(159),Y=c(51),Z=c(29),$=c(377),ee=c(395),te=Object($.a)((function(e){return Object(ee.a)({formControl:{margin:e.spacing(1),minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)}})}));function ce(){return(ce=Object(J.a)(z.a.mark((function e(t,c){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(e){var t=Object(Y.d)(),c=t.values,a=c.quantity,r=c.product,s=t.setFieldValue,i=Object(Y.c)(e),o=Object(b.a)(i,2),l=o[0],j=o[1];return n.a.useEffect((function(){var t=!0;return""!==a&&""!==r&&function(e,t){return ce.apply(this,arguments)}(a,r).then((function(c){t&&s(e.name,c)})),function(){t=!1}}),[r,a,s,e.name]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(K.a,Object(O.a)(Object(O.a)({fullWidth:!0},e),l)),!!j.touched&&!!j.error&&Object(p.jsx)("div",{children:j.error})]})},ne=function(){var e=Object(a.useContext)(q),t=e.stocks,c=e.addTransaction,n=["sales","purchases"],r=te(),s=Z.a({rate:Z.b().required("rate is required"),quantity:Z.b().required("quantity is required"),product:Z.b("Enter your product").required("product is required"),date:Z.b().required("date is required"),type:Z.b().required("Transaction Type is required")}),i={product:"",quantity:"",type:"",rate:"",date:new Date("2014-08-18T21:11:54")};return Object(p.jsx)(G.a,{utils:X.a,children:Object(p.jsx)(Y.b,{initialValues:i,validationSchema:s,onSubmit:function(e){c(e)},enableReinitialize:!0,children:function(e){var c=e.touched,a=e.errors,s=e.handleChange;e.isSubmitting,e.values;return Object(p.jsx)(Y.a,{className:"",children:Object(p.jsxs)(o.a,{container:!0,spacing:"2",children:[Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsxs)(I.a,{className:r.formControl,children:[Object(p.jsx)(L.a,{id:"demo-simple-select-label",children:"Product"}),Object(p.jsx)(Q.a,{labelId:"demo-simple-select-label",id:"product",name:"product",onChange:s,error:c.product&&Boolean(a.product),helperText:c.product&&a.product,defaultValue:"",children:t.map((function(e){return Object(p.jsx)(U.a,{value:e.id,children:e.productName})}))})]})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsxs)(I.a,{className:r.formControl,children:[Object(p.jsx)(L.a,{id:"type",children:"Transaction Types"}),Object(p.jsx)(Q.a,{labelId:"type",id:"type",name:"type",onChange:s,defaultValue:"",error:c.type&&Boolean(a.type),helperText:c.type&&a.type,children:n.map((function(e){return Object(p.jsx)(U.a,{value:e,children:e})}))})]})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(H.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date",label:"Date",name:"date",onChange:s,KeyboardButtonProps:{"aria-label":"change date"}})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(K.a,{fullWidth:!0,id:"quantity",name:"quantity",label:"quantity",onChange:s,error:c.quantity&&Boolean(a.quantity),helperText:c.quantity&&a.quantity})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(ae,{name:"rate",disabled:!0})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(u.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"})})]})})}})})},re=function(e){e.filterTransactions,e.setReload;var t=Object(a.useState)("all"),c=Object(b.a)(t,2),n=c[0],r=c[1];return Object(p.jsxs)(I.a,{component:"fieldset",children:[Object(p.jsx)(W.a,{component:"legend",children:"Show Transactions"}),Object(p.jsx)(M.a,{"aria-label":"transactions",name:"transactions",value:n,onChange:function(e){r(e.target.value)},children:Object(p.jsxs)(o.a,{container:!0,children:[Object(p.jsx)(o.a,{item:!0,xs:!0,children:Object(p.jsx)(_.a,{value:"all",control:Object(p.jsx)(V.a,{}),label:"All"})}),Object(p.jsx)(o.a,{item:!0,xs:!0,children:Object(p.jsx)(_.a,{value:"sales",control:Object(p.jsx)(V.a,{}),label:"Sales"})}),Object(p.jsx)(o.a,{item:!0,xs:!0,children:Object(p.jsx)(_.a,{value:"purchases",control:Object(p.jsx)(V.a,{}),label:"Purchases"})})]})})]})},se=function(){var e=Object(a.useContext)(q),t=e.transactions,c=e.filterTransactions,n=Object(a.useState)(!1),r=Object(b.a)(n,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){console.log("refresh page")}),[s]),Object(p.jsx)(l.a,{children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)("h3",{children:"Transactions"}),Object(p.jsx)(l.a,{children:Object(p.jsx)(j.a,{children:Object(p.jsx)(ne,{})})}),Object(p.jsx)(S.a,{mt:4,children:Object(p.jsx)(re,{filterTransactions:c,setReload:i})}),Object(p.jsx)(T.a,{children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(w.a,{children:Object(p.jsxs)(B.a,{children:[Object(p.jsx)(E.a,{children:"productName"}),Object(p.jsx)(E.a,{children:"type"}),Object(p.jsx)(E.a,{children:"quantiry"}),Object(p.jsx)(E.a,{children:"price"}),Object(p.jsx)(E.a,{children:"amount"})]})}),Object(p.jsx)(D.a,{children:t&&t.map((function(e){return Object(p.jsxs)(B.a,{children:[Object(p.jsx)(E.a,{children:e.productName}),Object(p.jsx)(E.a,{children:e.type}),Object(p.jsx)(E.a,{children:e.quantity}),Object(p.jsx)(E.a,{children:"sales"===e.type?e.salesPrice:e.purchasePrice}),Object(p.jsx)(E.a,{children:e.amount}),Object(p.jsx)("button",{onClick:function(){return console.log("edit transactions")},children:"E"}),Object(p.jsx)("button",{onClick:function(){return console.log("delete transaction")},children:"D"})]},e.id)}))})]})})]})})},ie=c(393),oe=c(386),le=c(382),je=function(){var e=Object(a.useContext)(q).addProduct,t=n.a.useState(!1),c=Object(b.a)(t,2),r=c[0],s=c[1],i=Z.a({salesPrice:Z.b().required("rate is required"),purchasePrice:Z.b().required("purchase Price is required"),productName:Z.b().required("product name is required")});return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.a,{variant:"outlined",color:"primary",onClick:function(){s(!0)},children:"Product Master"}),Object(p.jsxs)(ie.a,{open:r,onClose:function(){s(!1)},"aria-labelledby":"form-dialog-title",children:[Object(p.jsx)(oe.a,{id:"form-dialog-title",children:"Product Master"}),Object(p.jsx)(le.a,{children:Object(p.jsx)(Y.b,{initialValues:{salesPrice:"",purchasePrice:"",productName:""},validationSchema:i,onSubmit:function(t){e(t)},enableReinitialize:!0,children:function(e){var t=e.touched,c=e.errors,a=e.handleChange;e.isSubmitting,e.values;return Object(p.jsx)(Y.a,{className:"",children:Object(p.jsxs)(o.a,{container:!0,spacing:"2",children:[Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(K.a,{fullWidth:!0,id:"productName",name:"productName",label:"productName",onChange:a,error:t.productName&&Boolean(c.productName),helperText:t.productName&&c.productName})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(K.a,{fullWidth:!0,id:"salesPrice",name:"salesPrice",label:"salesPrice",onChange:a,error:t.salesPrice&&Boolean(c.salesPrice),helperText:t.salesPrice&&c.salesPrice})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,children:Object(p.jsx)(K.a,{fullWidth:!0,id:"purchasePrice",name:"purchasePrice",label:"purchasePrice",onChange:a,error:t.purchasePrice&&Boolean(c.purchasePrice),helperText:t.purchasePrice&&c.purchasePrice})}),Object(p.jsx)(o.a,{item:!0,xs:12,sm:12,md:12,children:Object(p.jsx)(u.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"})})]})})}})})]})]})};function de(){return Object(p.jsx)(C,{children:Object(p.jsxs)(i.a,{children:[Object(p.jsxs)(o.a,{container:!0,spacing:2,alignItems:"center",children:[Object(p.jsx)(o.a,{item:!0,xs:12,md:8,children:Object(p.jsx)(ue,{})}),Object(p.jsx)(o.a,{item:!0,xs:12,md:4,children:Object(p.jsx)(je,{})})]}),Object(p.jsx)(R,{}),Object(p.jsxs)(o.a,{container:!0,spacing:4,children:[Object(p.jsx)(o.a,{item:!0,sm:12,md:4,children:Object(p.jsx)(F,{})}),Object(p.jsx)(o.a,{item:!0,sm:12,md:8,children:Object(p.jsx)(se,{})})]})]})})}var ue=function(){return console.log("Filters"),Object(p.jsx)(l.a,{children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(d.a,{children:"Filters"}),Object(p.jsxs)(o.a,{container:!0,spacing:4,children:[Object(p.jsxs)(o.a,{item:!0,children:[Object(p.jsx)("label",{children:"Start Date"}),Object(p.jsx)("input",{type:"date"})]}),Object(p.jsxs)(o.a,{item:!0,children:[Object(p.jsx)("label",{children:"End Date"}),Object(p.jsx)("input",{type:"date"})]}),Object(p.jsx)(o.a,{item:!0,children:Object(p.jsx)(u.a,{variant:"outlined",color:"primary",children:"Refresh"})})]})]})})},be=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,402)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(de,{})}),document.getElementById("root")),be()}},[[339,1,2]]]);
//# sourceMappingURL=main.8296e350.chunk.js.map